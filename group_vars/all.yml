# 共通
hadoop_user: hadoop
hadoop_group: hadoop
java_home: /usr/lib/jvm/java-8-openjdk-amd64

# BigTop repo（記事の例に合わせた既定値）
# ※noble(24.04)向けの提供状況は環境/ミラーに依存するため、必要に応じてURLを差し替えてください。
bigtop_repo_line: "deb [trusted=yes] http://repos.bigtop.apache.org/releases/3.3.0/ubuntu/22.04/amd64 bigtop contrib"

# Hadoop
fs_defaultfs: "hdfs://{{ inventory_hostname }}:9000"
hadoop_tmp_dir: "/var/lib/hadoop/tmp"

dfs_replication: 1

rm_hostname: "{{ inventory_hostname }}"
yarn_rm_webapp: "0.0.0.0:8088"

yarn_local_dir: "/var/lib/hadoop/yarn/local"
yarn_log_dir: "/var/lib/hadoop/yarn/logs"
yarn_timeline_dir: "/var/lib/hadoop/yarn/timeline"

yarn_nm_memory_mb: 1024
yarn_sched_max_mb: 1024
yarn_sched_min_mb: 128

ats_enabled: true
ats_version: "1.0"
ats_hostname: "{{ inventory_hostname }}"
ats_address: "0.0.0.0:10200"
ats_webapp: "0.0.0.0:8188"
ats_leveldb_path: "/var/lib/hadoop/yarn/timeline"

yarn_log_aggregation: true
yarn_remote_app_log_dir: "/app-logs"
jhs_rpc: "{{ inventory_hostname }}:10020"
jhs_webapp: "0.0.0.0:19888"
jhs_done_dir: "/mr-history/done"
jhs_intermediate_dir: "/mr-history/tmp"
yarn_log_server_url: "http://0.0.0.0:19888/jobhistory/logs"

# systemd WorkingDirectory（環境差が出やすいので変数化）
hdfs_workdir: "/var/lib/hadoop-hdfs"
yarn_workdir: "/var/lib/hadoop-yarn"

# Hive
metastore_host: "{{ inventory_hostname }}"
metastore_port: 5432
metastore_db: "metastore"
metastore_user: "hive"
metastore_password: "HiveStrongPassword"   # 本番はAnsible Vault推奨

hive_metastore_uri: "thrift://{{ inventory_hostname }}:9083"
hiveserver2_port: 10000
hive_warehouse_dir: "/user/hive/warehouse"

# ===== Java =====
zeppelin_java_package: openjdk-11-jdk
zeppelin_java_home: /usr/lib/jvm/java-11-openjdk-amd64

# ===== Zeppelin =====
zeppelin_user: zeppelin
zeppelin_home: /opt/zeppelin

zeppelin_version: "0.10.1"
zeppelin_tgz: "zeppelin-{{ zeppelin_version }}-bin-all.tgz"
zeppelin_url: "https://dlcdn.apache.org/zeppelin/zeppelin-{{ zeppelin_version }}/{{ zeppelin_tgz }}"

zeppelin_addr: "0.0.0.0"
zeppelin_port: 8080

# ===== Hive JDBC =====
hive_jdbc_version: "3.1.3"
hive_jdbc_jar: "hive-jdbc-{{ hive_jdbc_version }}-standalone.jar"
hive_jdbc_url: "https://repo1.maven.org/maven2/org/apache/hive/hive-jdbc/{{ hive_jdbc_version }}/{{ hive_jdbc_jar }}"
hive_jdbc_dest_dir: "{{ zeppelin_home }}/interpreter/jdbc"
